# Client

## Ativar a chamada de retorno do servidor

### lib.callback

A resposta é tratada numa coroutine separada.

```lua
lib.callback(name, delay, cb, ...)
```

- name: `string`
- delay: `number` or `false`
  - Período de tempo até que esta chamada de retorno possa ser acionada novamente
- cb: `function`
- ...: `any`

```lua
lib.callback('ox_inventory:getItemCount', false, function(count)
    print(count)
end, 'water', {type = 'fresh'})
```

### lib.callback.await

A corrotina atual é cedida até ser recebida uma resposta.

```lua
lib.callback.await(name, delay, ...)
```

- name: `string`
- delay: `number` or `false`
  - Período de tempo até que esta chamada de retorno possa ser acionada novamente
- ...: `any`

```lua
local count = lib.callback.await('ox_inventory:getItemCount', false, 'water', {type = 'fresh'})
print(count)
```

## Registar a chamada de retorno do cliente

### lib.callback.register

Registar um manipulador de eventos para responder a pedidos do servidor.

```lua
lib.callback.register(name, cb)
```

- name: `string`
- cb: `function`

```lua
lib.callback.register('ox:getNearbyVehicles', function(radius)
    local nearbyVehicles = lib.getNearbyVehicles(GetEntityCoords(cache.ped), radius, true)
    return nearbyVehicles
end)
```
